---
title: "dplyr tutorial"
author: "Cheryl"
date: "15 April 2020"
output: html_document
---

```{r}
library(tidyverse)
gapminder <- readr::read_csv("https://raw.githubusercontent.com/OHI-Science/data-science-training/master/data/gapminder.csv")

head(gapminder)
tail(gapminder)
head(gapminder,10)
str(gapminder)
names(gapminder)
summary(gapminder)
```
# to specify a single variable from a data frame
```{r}
head(gapminder$lifeExp)
str(gapminder$lifeExp)
summary(gapminder$lifeExp)
dim(gapminder)
```
#dplyr functions
#filter for rows/observations
#select for columns/variables
#mutate for creating new variables
#summarise for collapsing values into a single summary
#arrange for reordering rows
#groupby 

```{r}
#to subset observations, filter gapminder data for life expetancy less than 29
filter(gapminder, lifeExp < 29)

#filter the gapminder data for the country mexico
filter(gapminder, country == "Mexico")
```

```{r}
# use the %in% (shift ctrl m) to filter for more than one country
filter(gapminder, country %in% c("Mexico", "Peru"))
# mexico in 2002
filter(gapminder, country == "Mexico", year ==2002)
```

```{r}
#Average life expectancy in Brazil b/w 1987 and 2007
x <- filter(gapminder, country == "Brazil", year > 1986)
mean(x$lifeExp)
```

